# 升级驱动程序

&emsp;&emsp;大约在七月三十一日晚，X1T 的内置实用程序 Lenovo Vantage 告诉我若干固件和驱动程序需要升级。显示出来的内容相当芜杂，包括 BIOS Firmware、Intel 的蓝牙和雷电驱动、UHD 显卡驱动、智能热管理驱动、键盘快捷键整合包，等等。对于「不升级不舒服司机」而言，点击取消按钮是不可能的。一切都还顺利，除了升级 BIOS 固件的时候略紧张，等系统重启之后，Lenovo Vantage 告诉我一切就绪，可以愉快地使用电脑了。

&emsp;&emsp;根据墨菲定律，问题很快出现。首先，Fn + Esc 组合按键失效。这对组合键的作用是告诉系统优先选择功能键（例如 F1 ~ F12）还是快捷键（例如音量及屏幕亮度调节按钮）。如果优先选择功能键，则 Esc 键亮起一盏小白灯，按下 F5 的时候就是刷新网页，而不是调低屏幕的亮度。我一向习惯于锁定 FnLock，比如关闭一个程序的时候，Alt + F4 组合键总是比用鼠标点击窗口右上角的 X 更加迅速。FnLock 组合键失效之后，我不得不找出三根手指（左手两根、右手一根）按下 Fn + Alt + F4，有时就会不小心按到左边的 Ctrl 键。同样，刷新网页（F5）、修改文件名（F2）都要加上 Fn 键。Lenovo 笔记本电脑以浓重的商务风格为主要卖点，在 Fn + Esc 组合键失效之后，却默认优先选择快捷，这样的选择偏向家庭娱乐。逻辑上的矛盾令人费解。

&emsp;&emsp;此外，F1 键和 F4 键各有一盏小白灯，亮起的意思分别是「静音」和「禁止麦克风」，它们也同时失效了。从外观上看，白灯永远不会亮起。从功能上看，如果需要静音，那么按 F1 是无效的，必须使用鼠标在屏幕左下角的音量小图标上操作。奇怪的是，F2（降低音量）和 F3（提升音量）仍然有效。同理推测，F4（禁止麦克风）应该也失效了，只是我没有时间在系统配置里查看相关选项，但最初按 F4 的时候会在屏幕下方短暂现实一个麦克风关闭的图标，它再也没有出现。

&emsp;&emsp;第三个问题则显得更为诡异。在确认系统开关都打开、驱动程序显示正常的状态下，内置音箱莫名其妙地罢工了。如果要听声音，我不得不把 X1T 连上蓝牙音箱或蓝牙耳机，否则根本没有声音。

&emsp;&emsp;由于在大批量升级驱动程序之前，自己没有手动修改相关参数（事实上，出现问题排错的过程中，我才知道那些参数开关在什么地方），初步的判断是：大概某个驱动程序出现 BUG。查阅 X1T 官网论坛之后，我放弃继续排错。将就着用吧，说不定哪次官方再推新驱动的时候问题就解决了。八月廿五日官方释出一系列新的驱动和固件，成功安装，可问题仍在。快要失去耐心，开始评估若是重新安装操作系统会花掉多少时间和精力。八月三十日，Lenovo Vantage 告诉我 Thinkpad Hotkey Features Integration Package Setup 单独释出，点击升级并安装，重新启动电脑，Esc、F1、F4 三盏白灯同时亮起，吉兆！测试 Fn + Esc 组合键，灯灭；再测试，灯亮。如法炮制 Fn + F1 和 Fn + F4 组合键，灯灭灯亮，功能也正常了。打开前几天刚下载的电影 _The God Father (1972)_，快速拉动进度条，内置音箱发出期待中的声音。看来的确是 Lenovo 自己的驱动程序存在 BUG，再返回查 Lenovo Vantage 的安装日志，七月三十一日那天升级的一系列驱动程序和固件列表中，果然有 Thinkpad Hotkey Features Integration Package Setup 程序，是元凶无疑。

&emsp;&emsp;反映出两点情况：其一，释放更新程序之前测试不严谨（不过我们现在对 BUG 已经相当宽容了，连 CPU 都有 BUG，不是吗？）；其二，发现 BUG 之后，Lenovo 在漫长的一个月之后才将它解决。

&emsp;&emsp;![Lenovo Vantage](https://github.com/voyageplanet/treatise/blob/master/_img_/20180830-lenovo-vantage.png)

&emsp;&emsp;_图：Thinkpad Hotkey Features Integration Package Setup 的版本对比_

&emsp;&emsp;

&emsp;&emsp;※ 沈翎，二〇一八年八月卅一日 ※